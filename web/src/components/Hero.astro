---
import { formatTitle } from '../lib/formatTitle.js'
import { formatSubtitle } from '../lib/formatTitle.js'
const { tag, title } = Astro.props

const formattedTitle = formatTitle(title)
const formattedSubtitle = formatSubtitle(tag)
---

<main>
	<div class="wrapper">
		<div class="florence-image">
			<img src="/images/new-hero-images/pngegg 1.png" alt="Florence Chapel Art Inspiration" />
		</div>
		<div class="title">
			<h3 set:html={formattedSubtitle} />
			<h1 set:html={formattedTitle} />
		</div>
		<div class="soul-image">
			<img
				src="/images/new-hero-images/soul-of-the-gypsy-nobg 2.png"
				alt="Soul of the gypsy oil painting canvas"
			/>
		</div>
	</div>
</main>
<style is:global lang="scss">
	main {
		background-image: linear-gradient(to top, #03030390, #03030300 70%),
			url('/images/new-hero-images/kevs-gallery 1.png');
		background-size: cover;
		background-position: center;

		.wrapper {
			padding-block: 18rem 2rem;
			position: relative;
			display: flex;
			align-items: flex-end;
			justify-content: space-between;
			overflow: hidden;
			gap: 0;

			.florence-image {
				display: flex;
				transform: translate(-4rem, 2rem);
				width: calc(30% + 4rem);
				z-index: 1;

				img {
					// display: block;
				}
			}

			.soul-image {
				width: calc(30% + 4rem);
				transform: translate(10rem, 6rem);
			}

			.title {
				width: 40%;
				h3 {
					color: $white;
					clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
					line-height: 1;
					text-align: center;
					width: max-content;
					margin-inline: auto;
					font-size: 24px;
					span {
						font-family: 'Hyperwave';
						font-size: calc(24px * 1.4);
						vertical-align: middle;

						@media (max-width: 700px) {
							font-size: calc($mobile-h3 * 1.4);
						}
					}
				}
				h1 {
					clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
					font-size: clamp($mobile-h1, 8vw, $h1);
					text-align: center;
					width: max-content;
					margin-inline: auto;

					@media (max-width: 500px) {
						font-size: clamp(64px, 20vw, $mobile-h1) !important;
					}

					span {
						font-style: italic !important;
					}
				}
			}
		}
		@media (max-width: 1024px) {
			.wrapper {
				& > img {
					bottom: auto;
					top: 6rem;
					width: clamp(75px, 12vw, 150px);
				}
			}
		}
		@media (max-width: 1024px) {
			background-image: linear-gradient(to top, #03030390, #03030300 70%),
				url('/images/new-hero-images/mobile-gallery-image.png');

			.wrapper {
				padding-block: 30rem 2rem;
				height: 95vh;
				max-height: 1000px;

				.title {
					position: absolute;
					top: 30%;
					left: 50%;
					transform: translate(-50%, -50%);
					width: 100%;

					h1 {
						font-size: $mobile-h1;
						color: $black;
					}

					h3 {
						font-size: 20px;
						color: $black;
						span {
							font-size: calc(20px * 1.4);
							vertical-align: middle;
						}
					}
				}
				.florence-image {
					width: 100%;
					transform: none;
					margin-inline-start: -4rem;
					margin-block-end: -2rem;
					// border: 2px solid red;
				}
				.soul-image {
					width: 100%;
					transform: none;
					margin-inline-end: -8rem;
					margin-block-end: -6rem;
					// border: 2px solid red;
				}
			}
		}

		@media (max-width: 450px) {
			.wrapper {
				.title {
					h3 {
						font-size: 14px;
						span {
							font-size: calc(20px * 1.4);
							vertical-align: middle;
						}
					}
				}
				.florence-image {
					margin-inline-start: -4rem;
					margin-inline-end: -3rem;
					margin-block-end: -2rem;
				}
				.soul-image {
					margin-inline-end: -8rem;
					margin-inline-start: -3rem;
					margin-block-end: -6rem;
				}
			}
		}
	}
</style>
