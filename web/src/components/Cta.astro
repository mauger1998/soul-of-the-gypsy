---
import Button from './Button.astro'
const { title } = Astro.props
---

<section class="cta-section">
	<img src="/images/image 6.webp" alt="Kev Ash Art" />
	<div class="wrapper">
		<h2>{title}</h2>
		<Button text="View full gallery now" variant="white-outline" to="/gallery/" />
	</div>
</section>

<script>
	import { gsap } from 'gsap'
	import { ScrollTrigger } from 'gsap/ScrollTrigger'
	gsap.registerPlugin(ScrollTrigger)

	gsap.to('.cta-section h2, .cta-section a', {
		scrollTrigger: {
			trigger: '.cta-section h2',
			start: 'top 80%',
			toggleActions: 'play none none reverse'
		},
		opacity: 1,
		y: 0,
		ease: 'power1.out',
		stagger: 0.3
	})
</script>

<style is:global lang="scss">
	.cta-section {
		position: relative;
		z-index: 0;
		& > img {
			position: absolute;
			width: 100%;
			opacity: 0.1;
			z-index: -1;
			height: 100%;
			object-fit: cover;
		}
		.wrapper {
			display: flex;
			flex-direction: column;
			align-items: center;
			gap: 2.5rem;
			padding-block: 16rem;
			h2 {
				color: $white;
				text-align: center;
				max-width: 10ch;
				opacity: 0;
				transform: translateY(4rem);
			}
			a {
				opacity: 0;
				transform: translateY(4rem);
			}
		}
	}
</style>
